<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" version="29.3.4">
  <diagram name="Page-1" id="ZwT2R5hWVBBXrOdfv-2i">
    <mxGraphModel dx="2633" dy="1000" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="f2s4Gb-pWufgBm75DpBl-44" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="" vertex="1">
          <mxGeometry height="305" width="670" x="-150" y="560" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-2" edge="1" parent="1" source="f2s4Gb-pWufgBm75DpBl-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="190" y="290" />
              <mxPoint x="190" y="290" />
            </Array>
            <mxPoint x="250" y="290" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-4" edge="1" parent="1" source="f2s4Gb-pWufgBm75DpBl-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="f2s4Gb-pWufgBm75DpBl-3" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-1" parent="1" style="rounded=1;whiteSpace=wrap;html=1;" value="Client Web/Mobile" vertex="1">
          <mxGeometry height="60" width="120" x="40" y="260" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-7" edge="1" parent="1" source="f2s4Gb-pWufgBm75DpBl-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="f2s4Gb-pWufgBm75DpBl-6" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-20" connectable="0" parent="f2s4Gb-pWufgBm75DpBl-7" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" value="Success" vertex="1">
          <mxGeometry relative="1" x="-0.0786" y="3" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-13" edge="1" parent="1" source="f2s4Gb-pWufgBm75DpBl-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="f2s4Gb-pWufgBm75DpBl-11">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-21" edge="1" parent="1" source="f2s4Gb-pWufgBm75DpBl-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" target="f2s4Gb-pWufgBm75DpBl-1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="280" y="460" />
              <mxPoint x="100" y="460" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-22" connectable="0" parent="f2s4Gb-pWufgBm75DpBl-21" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" value="4XX too many requests" vertex="1">
          <mxGeometry relative="1" x="0.1435" y="2" as="geometry">
            <mxPoint x="33" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GJYwJjsboNPpY3mAElYJ-2" edge="1" parent="1" source="f2s4Gb-pWufgBm75DpBl-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" target="GJYwJjsboNPpY3mAElYJ-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-3" parent="1" style="rounded=1;whiteSpace=wrap;html=1;" value="WebServer (RateLimiter)" vertex="1">
          <mxGeometry height="60" width="120" x="210" y="260" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-5" parent="1" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;Use cases&lt;/h1&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;p&gt;Use Cases - FNs&lt;br&gt;- Rate limiter per API and user IP&lt;br&gt;- User will get response with success or rate limited error with details&amp;nbsp;&lt;br&gt;&lt;br&gt;Non-FNs&lt;br&gt;- It should be very fast as it will be part of the &lt;b&gt;request response time [hence avoid DB and use memory DB like redis]&lt;/b&gt;&lt;br&gt;- Consistency if hit different rate limiter/&lt;br&gt;- avoid race condidtions&amp;nbsp;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;APIs:&lt;br&gt;Header: &lt;br&gt;&amp;nbsp; &amp;nbsp; X-ratelimiter-remaining&lt;br&gt;&amp;nbsp; &amp;nbsp; X-ratelimiter-limit&lt;br&gt;&amp;nbsp; &amp;nbsp;X-ratelimiter-retry-after&lt;br&gt;&lt;br&gt;Request 4xx:&lt;div&gt;key: API-URL&lt;br&gt;rate_limit:&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;unit: day/minute&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;request_per-Unit: 5&lt;br&gt;&lt;br&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="370" width="360" x="-240" y="20" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-6" parent="1" style="whiteSpace=wrap;html=1;rounded=1;" value="" vertex="1">
          <mxGeometry height="40" width="70" x="610" y="270" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-9" parent="1" style="whiteSpace=wrap;html=1;rounded=1;" value="APIs" vertex="1">
          <mxGeometry height="40" width="70" x="620" y="280" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-18" edge="1" parent="1" source="f2s4Gb-pWufgBm75DpBl-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="f2s4Gb-pWufgBm75DpBl-14">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-11" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="Cache Redis &lt;br&gt;Rules&amp;nbsp;" vertex="1">
          <mxGeometry height="60" width="120" x="440" y="160" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-12" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="Reids tokenizer for example with&amp;nbsp;&lt;br&gt;- UserIP+ API = Token Count&lt;br&gt;- That token count is reset with time as supported by Redis&lt;br&gt;&lt;br&gt;&lt;b&gt;INCR&lt;/b&gt;: increase counter by 1&lt;br&gt;&lt;b&gt;EXPIRE&lt;/b&gt;: sets timeout for counter and auto-deleted" vertex="1">
          <mxGeometry height="110" width="300" x="330" y="40" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-16" edge="1" parent="1" source="f2s4Gb-pWufgBm75DpBl-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="f2s4Gb-pWufgBm75DpBl-15" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-15" parent="1" style="whiteSpace=wrap;html=1;rounded=0;" value="Rules" vertex="1">
          <mxGeometry height="60" width="120" x="680" y="20" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-19" connectable="0" parent="1" style="group" value="" vertex="1">
          <mxGeometry height="70" width="140" x="680" y="160" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-14" parent="f2s4Gb-pWufgBm75DpBl-19" style="rounded=0;whiteSpace=wrap;html=1;" value="" vertex="1">
          <mxGeometry height="60" width="120" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-17" parent="f2s4Gb-pWufgBm75DpBl-19" style="rounded=0;whiteSpace=wrap;html=1;" value="Workers" vertex="1">
          <mxGeometry height="60" width="120" x="20" y="10" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-23" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="Options 1; drop request" vertex="1">
          <mxGeometry height="30" width="140" x="440" y="450" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-24" edge="1" parent="1" style="endArrow=none;dashed=1;html=1;rounded=0;" target="f2s4Gb-pWufgBm75DpBl-23" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="280" y="460" as="sourcePoint" />
            <mxPoint x="470" y="370" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-25" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="Options 2; message queue requests and try later" vertex="1">
          <mxGeometry height="30" width="140" x="425" y="510" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-26" edge="1" parent="1" style="endArrow=none;dashed=1;html=1;rounded=0;entryX=0.057;entryY=0.1;entryDx=0;entryDy=0;entryPerimeter=0;" target="f2s4Gb-pWufgBm75DpBl-25" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="280" y="460" as="sourcePoint" />
            <mxPoint x="510" y="473" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-27" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="&lt;b&gt;Race Condition&lt;/b&gt;;&amp;nbsp;original counter = 3" vertex="1">
          <mxGeometry height="30" width="250" x="-160" y="560" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-31" edge="1" parent="1" source="f2s4Gb-pWufgBm75DpBl-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="f2s4Gb-pWufgBm75DpBl-30" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-29" parent="1" style="whiteSpace=wrap;html=1;rounded=1;" value="read_counter" vertex="1">
          <mxGeometry height="40" width="100" x="-110" y="620" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-30" parent="1" style="rounded=1;whiteSpace=wrap;html=1;" value="check and increment" vertex="1">
          <mxGeometry height="30" width="110" x="-115" y="730" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-33" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="Text" vertex="1">
          <mxGeometry height="30" width="60" x="420" y="440" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-34" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="counter = 3" vertex="1">
          <mxGeometry height="30" width="90" x="-10" y="625" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-35" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="counter = 4" vertex="1">
          <mxGeometry height="30" width="90" x="-5" y="730" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-36" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="request 1" vertex="1">
          <mxGeometry height="30" width="90" x="-95" y="595" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-37" edge="1" parent="1" source="f2s4Gb-pWufgBm75DpBl-38" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="f2s4Gb-pWufgBm75DpBl-39" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-38" parent="1" style="whiteSpace=wrap;html=1;rounded=1;" value="read_counter" vertex="1">
          <mxGeometry height="40" width="100" x="95" y="655" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-39" parent="1" style="rounded=1;whiteSpace=wrap;html=1;" value="check and increment" vertex="1">
          <mxGeometry height="30" width="110" x="90" y="765" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-40" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="counter = 3" vertex="1">
          <mxGeometry height="30" width="90" x="195" y="660" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-41" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="counter = 4" vertex="1">
          <mxGeometry height="30" width="90" x="200" y="765" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-42" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="request 2" vertex="1">
          <mxGeometry height="30" width="90" x="110" y="630" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-43" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="&lt;b&gt;Counter should be 5&lt;/b&gt;" vertex="1">
          <mxGeometry height="30" width="140" x="310" y="765" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-45" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="&lt;b&gt;Sorted Set will solve this from Redis&lt;/b&gt;" vertex="1">
          <mxGeometry height="30" width="250" x="-120" y="820" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-46" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="" vertex="1">
          <mxGeometry height="330" width="670" x="560" y="560" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-47" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="&lt;b&gt;Synchronization; &lt;/b&gt;multiple rate limiter servers are used synchronization is needed." vertex="1">
          <mxGeometry height="30" width="515" x="540" y="560" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-65" edge="1" parent="1" source="f2s4Gb-pWufgBm75DpBl-49" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="f2s4Gb-pWufgBm75DpBl-63">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-49" parent="1" style="whiteSpace=wrap;html=1;rounded=1;" value="client 1" vertex="1">
          <mxGeometry height="30" width="95" x="615" y="622" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-61" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="&lt;b&gt;Avoid using sticky session as it is not scalable or flexible.&lt;br&gt;better to use centralized data stores like Reids&lt;/b&gt;" vertex="1">
          <mxGeometry height="30" width="405" x="650" y="735" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-66" edge="1" parent="1" source="f2s4Gb-pWufgBm75DpBl-62" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="f2s4Gb-pWufgBm75DpBl-64">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-62" parent="1" style="whiteSpace=wrap;html=1;rounded=1;" value="client 2" vertex="1">
          <mxGeometry height="30" width="95" x="615" y="675" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-63" parent="1" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;" value="Rate Limiter&lt;br&gt;1" vertex="1">
          <mxGeometry height="45" width="90" x="770" y="615" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-64" parent="1" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;" value="Rate Limiter&lt;br&gt;2" vertex="1">
          <mxGeometry height="45" width="90" x="771" y="668" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-70" parent="1" style="whiteSpace=wrap;html=1;rounded=1;" value="client 1" vertex="1">
          <mxGeometry height="30" width="95" x="920" y="622" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-72" parent="1" style="whiteSpace=wrap;html=1;rounded=1;" value="client 2" vertex="1">
          <mxGeometry height="30" width="95" x="920" y="675" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-73" parent="1" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;" value="Rate Limiter&lt;br&gt;1" vertex="1">
          <mxGeometry height="45" width="90" x="1075" y="615" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-74" parent="1" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;" value="Rate Limiter&lt;br&gt;2" vertex="1">
          <mxGeometry height="45" width="90" x="1076" y="668" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-75" edge="1" parent="1" source="f2s4Gb-pWufgBm75DpBl-72" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="f2s4Gb-pWufgBm75DpBl-73" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="570" y="760" as="sourcePoint" />
            <mxPoint x="620" y="710" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-76" edge="1" parent="1" source="f2s4Gb-pWufgBm75DpBl-70" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="f2s4Gb-pWufgBm75DpBl-74" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="1010" y="792" as="sourcePoint" />
            <mxPoint x="1070" y="740" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-77" edge="1" parent="1" source="f2s4Gb-pWufgBm75DpBl-78" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="f2s4Gb-pWufgBm75DpBl-81">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-78" parent="1" style="whiteSpace=wrap;html=1;rounded=1;" value="client 1" vertex="1">
          <mxGeometry height="30" width="95" x="660" y="785" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-79" edge="1" parent="1" source="f2s4Gb-pWufgBm75DpBl-80" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="f2s4Gb-pWufgBm75DpBl-82">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-80" parent="1" style="whiteSpace=wrap;html=1;rounded=1;" value="client 2" vertex="1">
          <mxGeometry height="30" width="95" x="660" y="838" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-81" parent="1" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;" value="Rate Limiter&lt;br&gt;1" vertex="1">
          <mxGeometry height="45" width="90" x="815" y="778" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-82" parent="1" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;" value="Rate Limiter&lt;br&gt;2" vertex="1">
          <mxGeometry height="45" width="90" x="816" y="831" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-85" parent="1" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" value="Redis Centralized" vertex="1">
          <mxGeometry height="80" width="60" x="995" y="785" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-86" edge="1" parent="1" source="f2s4Gb-pWufgBm75DpBl-81" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" target="f2s4Gb-pWufgBm75DpBl-85">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="f2s4Gb-pWufgBm75DpBl-87" edge="1" parent="1" source="f2s4Gb-pWufgBm75DpBl-82" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" target="f2s4Gb-pWufgBm75DpBl-85">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GJYwJjsboNPpY3mAElYJ-1" parent="1" style="whiteSpace=wrap;html=1;rounded=1;" value="Redis" vertex="1">
          <mxGeometry height="40" width="70" x="440" y="360" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
